/*
	jquery.scrolly.js v0.2.0 | (c) 2014 @ajlkn | Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
*/

(function($) {

	$.fn._scrolly = function(options) {

		if (this.length == 0)
			return $this;

		if (this.length > 1) {

			for (var i=0; i < this.length; i++)
				$(this[i])._scrolly(options);

			return $this;

		}

		var	$this = $(this),
			opt = $.extend({
				offset: 0,
				duration: 500,
				easing: 'swing'
			}, options),
			$window = $(window),
			$document = $(document),
			$body = $('body');

		if (typeof opt.offset == 'function')
			opt.offset = opt.offset();

		$window.on('scroll', function() {

			var	pos = $window.scrollTop(),
				docHeight = $document.height(),
				winHeight = $window.height();

		});

		$this.on('click', function(e) {

			var	offset = opt.offset,
				target;

			e.preventDefault();

			if (typeof opt.target == 'object')
				target = opt.target;
			else
				target = $(opt.target);

			if (target.length == 0)
				return;

			if (typeof offset == 'function')
				offset = offset();

			$body.stop().animate({
				scrollTop: target.offset().top - offset
			}, opt.duration, opt.easing);

		});

		return $this;

	};

	$.fn.scrolly = function(options) {

		if (this.length == 0)
			return $this;

		if (this.length == 1) {

			new $.fn._scrolly.apply(this, arguments);
			return this;

		}

		return this.each(function() {
			$(this)._scrolly(options);
		});

	};

})(jQuery);

